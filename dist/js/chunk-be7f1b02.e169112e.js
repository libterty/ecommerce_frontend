(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be7f1b02"],{"115a":function(t,e,a){},"15a8":function(t,e,a){"use strict";var r=a("dbdd"),i=a.n(r);i.a},"166a":function(t,e,a){},2375:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],n=(a("15a8"),a("2877")),s={},l=Object(n["a"])(s,r,i,!1,null,"74807b6a",null);e["a"]=l.exports},"604c":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("a4d3"),a("4de4"),a("7db0"),a("c740"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("a9e3"),a("e439"),a("dbb4"),a("b64b"),a("2532"),a("159b");var r=a("ade3"),i=(a("166a"),a("a452")),n=a("7560"),s=a("58df"),l=a("d9bd");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=Object(s["a"])(i["a"],n["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return u({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var t=this;return this.items.filter((function(e,a){return t.toggleMethod(t.getValue(e,a))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(l["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register:function(t){var e=this,a=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,a)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),a=this.getValue(t,e);this.items.splice(e,1);var r=this.selectedValues.indexOf(a);if(!(r<0)){if(!this.mandatory)return this.updateInternalValue(a);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(t){return t!==a})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var a=this.getValue(t,e);t.isActive=this.toggleMethod(a)},updateItemsState:function(){if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=this.items.slice();t&&e.reverse();var a=e.find((function(t){return!t.disabled}));if(a){var r=this.items.indexOf(a);this.updateInternalValue(this.getValue(a,r))}}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],a=e.slice(),r=a.findIndex((function(e){return e===t}));this.mandatory&&r>-1&&a.length-1<1||null!=this.max&&r<0&&a.length+1>this.max||(r>-1?a.splice(r,1):a.push(t),this.internalValue=a)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",this.genData(),this.$slots.default)}});c.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}})},"7aca":function(t,e,a){"use strict";var r=a("115a"),i=a.n(r);i.a},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),s=a("50c4"),l=a("7b0b"),o=a("65f0"),u=a("8418"),c=a("1dde"),d=Math.max,m=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var a,r,c,p,b,g,v=l(this),y=s(v.length),w=i(t,y),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=y-w):(a=x-2,r=m(d(n(e),0),y-w)),y+a-r>f)throw TypeError(h);for(c=o(v,r),p=0;p<r;p++)b=w+p,b in v&&u(c,p,v[b]);if(c.length=r,a<r){for(p=w;p<y-r;p++)b=p+r,g=p+a,b in v?v[g]=v[b]:delete v[g];for(p=y;p>y-r+a;p--)delete v[p-1]}else if(a>r)for(p=y-r;p>w;p--)b=p+r-1,g=p+a-1,b in v?v[g]=v[b]:delete v[g];for(p=0;p<a;p++)v[p+w]=arguments[p+2];return v.length=y-r+a,c}})},c740:function(t,e,a){"use strict";var r=a("23e7"),i=a("b727").findIndex,n=a("44d2"),s="findIndex",l=!0;s in[]&&Array(1)[s]((function(){l=!1})),r({target:"Array",proto:!0,forced:l},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},dbdd:function(t,e,a){},f147:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"py-5 mx-5"},[t.isLoading?a("v-container",[a("Spinner")],1):a("v-container",[a("UserTabs"),a("UsersProfile",{attrs:{initUser:t.initUser},on:{"after-submit-profile":t.afterSubmitProfile}})],1)],1)},i=[],n=(a("d3b7"),a("5319"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"overflow-hidden p-5",attrs:{"no-body":""}},[a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{staticClass:"mr-3 m-auto",attrs:{md:"3"}},[a("b-card-img",{staticClass:"rounded-0",attrs:{src:t.defaultAvatar(t.initUser.avatar),alt:t.initUser.name}})],1),a("b-col",{staticClass:"m-auto",attrs:{md:"6"}},[a("b-card-body",{attrs:{title:t.initUser.name}},[a("b-list-group",[a("b-list-group-item",{staticClass:"text-left border-0"},[a("strong",{staticClass:"mr-2"},[t._v("信箱 :")]),a("small",[t._v(t._s(t.initUser.email))])]),a("b-list-group-item",{staticClass:"text-left border-0"},[a("strong",{staticClass:"mr-2"},[t._v("生日 :")]),a("small",[t._v(t._s(t.avoidNull(t.initUser.birthday)))])]),a("b-list-group-item",{staticClass:"text-left border-0"},[a("strong",{staticClass:"mr-2"},[t._v("地址 :")]),a("small",[t._v(t._s(t.avoidNull(t.initUser.address)))])]),a("b-list-group-item",{staticClass:"text-left border-0"},[a("strong",{staticClass:"mr-2"},[t._v("電話 :")]),a("small",[t._v(t._s(t.avoidNull(t.initUser.tel)))])])],1),a("br")],1),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.editProfile",modifiers:{editProfile:!0}}],attrs:{type:"button",size:"sm",variant:"info"}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-edit")]),t._v("Edit Profile ")],1)],1)],1)],1),a("b-modal",{attrs:{id:"editProfile",title:"修改使用者資訊","hide-footer":""}},[a("b-form",{staticClass:"edit-user-profile",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateUserProfile(e)}}},[a("b-form-group",{attrs:{"label-cols-sm":"3",label:"名稱 :","label-align-sm":"right","label-for":"name",description:"修改姓名"}},[a("b-form-input",{attrs:{id:"name",type:"text",name:"name",placeholder:t.initUser.name},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"信箱 :","label-align-sm":"right","label-for":"email",description:"修改信箱"}},[a("b-form-input",{attrs:{id:"email",type:"email",name:"email",placeholder:t.initUser.email},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",id:"password",label:"密碼 :","label-align-sm":"right","label-for":"password",description:"修改密碼","aria-autocomplete":"current-password"}},[a("b-form-input",{attrs:{id:"password",type:"password",name:"password",placeholder:"*********","aria-autocomplete":"current-password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"生日 :","label-align-sm":"right","label-for":"birthday",description:"修改生日"}},[a("b-form-input",{attrs:{id:"birthday",type:"date",name:"birthday",placeholder:t.avoidNull(t.initUser.birthday)},on:{change:function(e){return t.checkDate(t.form.birthday)}},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"上傳照片 :","label-align-sm":"right","label-for":"avatar",description:"修改你的照片吧"}},[t.form.avatar?a("b-img-lazy",{staticClass:"d-block img-thumbnail mb-3",attrs:{src:t.form.avatar,width:"200",height:"200"}}):t._e(),a("input",{staticClass:"form-control-file",attrs:{id:"avatar",type:"file",name:"avatar",accept:"image/*"},on:{change:t.handleFileChange}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"地址 :","label-align-sm":"right","label-for":"address",description:"修改地址"}},[a("b-form-input",{attrs:{id:"address",type:"text",name:"address",placeholder:t.avoidNull(t.initUser.address)},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"電話 :","label-align-sm":"right","label-for":"tel",description:"修改電話"}},[a("b-form-input",{attrs:{id:"tel",type:"tel",name:"tel",placeholder:t.avoidNull(t.initUser.tel)},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)}),s=[],l=(a("3ca3"),a("ddb0"),a("2b3d"),a("2fa3")),o={props:{initUser:{type:Object}},data:function(){return{form:{name:"",email:"",password:"",birthday:"",avatar:"",address:"",tel:""}}},methods:{checkDate:function(t){var e=(new Date).getFullYear(),a=(new Date).getMonth()+1,r=(new Date).getDate(),i=new Date(e+"-"+a+"-"+r).getTime(),n=new Date(t).getTime();return n<i},avoidNull:function(t){return t||"尚無資料"},defaultAvatar:function(t){return t||"https://i.imgur.com/ZJIb6zp.png"},handleFileChange:function(t){var e=t.target.files;if(e.length){var a=window.URL.createObjectURL(e[0]);this.form.avatar=a}},updateUserProfile:function(t){if(!this.checkDate(this.form.birthday))return l["a"].fire({icon:"warning",title:"Wrong Date Input Detected"});var e=t.target,a=new FormData(e);this.$emit("after-submit-profile",a)}},watch:{initUser:function(t){this.initUser=t}}},u=o,c=(a("7aca"),a("2877")),d=a("6544"),m=a.n(d),f=a("132d"),h=Object(c["a"])(u,n,s,!1,null,"3cb78134",null),p=h.exports;m()(h,{VIcon:f["a"]});var b=a("71b7"),g=a("2375"),v=a("365c"),y=new v["a"],w={components:{UsersProfile:p,UserTabs:b["a"],Spinner:g["a"]},data:function(){return{initUser:{},isLoading:!0}},created:function(){var t,e,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t=document.location.pathname.replace(/\/users\//,""),t&&!(t<1)){r.next=4;break}return r.abrupt("return",this.$router.push("/nonexisting"));case 4:return this.isLoading=!0,e=document.location.pathname.replace(/\//,""),r.next=8,regeneratorRuntime.awrap(y.getUser(e));case 8:a=r.sent,"success"===a.status&&(this.initUser=a.user,this.isLoading=!1),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),this.isLoading=!1,l["a"].fire({icon:"warning",title:r.t0.message});case 16:case"end":return r.stop()}}),null,this,[[0,12]])},methods:{afterSubmitProfile:function(t){var e,a,r;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,this.isLoading=!0,e=document.location.pathname.replace(/\//,""),i.next=5,regeneratorRuntime.awrap(y.putUser(e,t));case 5:if(a=i.sent,"success"!==a.status){i.next=13;break}return i.next=9,regeneratorRuntime.awrap(y.getUser(e));case 9:return r=i.sent,this.initUser=r.user,this.isLoading=!1,i.abrupt("return",l["a"].fire({icon:"success",title:"Upadte Profile success"}));case 13:i.next=19;break;case 15:i.prev=15,i.t0=i["catch"](0),this.isLoading=!1,l["a"].fire({icon:"warning",title:i.t0.message});case 19:case"end":return i.stop()}}),null,this,[[0,15]])}}},x=w,V=a("7496"),U=a("a523"),O=Object(c["a"])(x,r,i,!1,null,null,null);e["default"]=O.exports;m()(O,{VApp:V["a"],VContainer:U["a"]})}}]);
//# sourceMappingURL=chunk-be7f1b02.e169112e.js.map